---
phase: 01-foundation
plan: 03
type: execute
wave: 2
depends_on:
  - 01-foundation-01
files_modified:
  - internal/model/model.go
  - internal/view/dashboard.go
  - internal/view/checklist.go
  - internal/view/budget.go
  - internal/tui.go
autonomous: true
requirements:
  - DASH-01
  - DASH-02
  - DASH-03
  - DASH-04
  - CHKL-01
  - CHKL-02
  - CHKL-03
  - CHKL-04
  - BUDG-01
  - BUDG-02
  - BUDG-03
  - BUDG-04
  - BUDG-05
  - BUDG-06
  - BUDG-07
  - BUDG-08
  - BUDG-09
  - BUDG-10
user_setup: []
must_haves:
  truths:
    - "Dashboard displays: progress %, days until checkride, upcoming week tasks, quick stats"
    - "Checkride checklist shows 4 categories with toggleable items and completion %"
    - "Budget planner accepts flight rates, hours, living costs, shows projections and warnings"
  artifacts:
    - path: "internal/view/dashboard.go"
      provides: "Dashboard with stats and progress"
    - path: "internal/view/checklist.go"
      provides: "Checkride checklist with categories"
    - path: "internal/view/budget.go"
      provides: "Budget planner with calculations"
  key_links:
    - from: "dashboard.go"
      to: "model.go"
      via: "query for task counts"
    - from: "budget.go"
      to: "model.go"
      via: "Budget table"
---

<objective>
Implement Dashboard with progress/stats, Checkride Checklist with 4 categories, and Budget planner with flight rates and cost projections.

Purpose: User-facing views for overall status (dashboard), required items (checklist), and financial planning (budget).
Output: Complete UI for all three features with proper data persistence.
</objective>

<execution_context>
@/Users/tommy/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/ROADMAP.md
</context>

<tasks>

<task type="auto">
  <name>Create Dashboard view</name>
  <files>internal/view/dashboard.go, internal/tui.go</files>
  <action>
    Create DashboardView in internal/view/dashboard.go:
    - Header: "PPL Study Planner" with lipgloss styling
    - Days until checkride (large number, red if < 30 days)
    - Progress bar: overall completion %
    - Stats row: Completed: X | Remaining: Y | Overdue: Z
    - Upcoming week: Next 7 days with task counts
    
    Query database for:
    - Days until checkride (checkride_date - today)
    - Task counts by status
    - This week's tasks
    
    Wire into MainModel with screen navigation.
  </action>
  <verify>
    <automated>go build -o ppl-tui .</automated>
  </verify>
  <done>Dashboard shows all 4 required stats</done>
</task>

<task type="auto">
  <name>Create Checkride Checklist view</name>
  <files>internal/view/checklist.go, internal/model/model.go</files>
  <action>
    Create ChecklistView in internal/view/checklist.go:
    - Pre-populated checklist from FAA Part 61.103 requirements
    - 4 category sections with headers: Documents, Aircraft, Ground, Flight
    - Each item: [ ] or [X] + text
    - Navigation: arrows move between items, Enter toggles
    
    Items per category:
    - Documents: ID, Medical, Pilot cert, 61.109 check, Written test result, Logbook
    - Aircraft: Airworthiness, Registration, Insurance, POV auth, Weight & balance
    - Ground: Oral exam prep items, Charts, NOTAMs, Weather briefing docs
    - Flight: Preflight checklist, Maneuvers review, XC planning, Emergency procedures
    
    Calculate per-category and overall completion %.
  </action>
  <verify>
    <automated>go build -o ppl-tui .</automated>
  </verify>
  <done>Checklist renders 4 categories, Enter toggles items, % updates</done>
</task>

<task type="auto">
  <name>Create Budget planner view</name>
  <files>internal/view/budget.go, internal/model/model.go</files>
  <action>
    Create BudgetView in internal/view/budget.go:
    - Input fields for rates: Plane $/hr, CFI $/hr
    - Input fields for estimated hours: Dual given, Solo, XC, etc.
    - Input fields for living costs: Travel, Rent, Food, Car (one-time or monthly)
    - Input field: Total budget limit
    
    Display calculations:
    - Flight cost estimate = (plane_rate * hours) + (cfi_rate * dual_hours)
    - Living cost total = sum of all living items
    - Total projected = flight_cost + living_cost
    - Remaining = budget_limit - projected
    - % used = (projected / budget_limit) * 100
    
    Warning: If projected > budget_limit, display red "OVER BUDGET" warning.
    
    Use TextInput components for each field. Tab navigation between fields.
  </action>
  <verify>
    <automated>go build -o ppl-tui .</automated>
  </verify>
  <done>Budget view calculates and warns when over budget</done>
</task>

</tasks>

<verification>
- Dashboard displays: progress %, days until checkride, week tasks, quick stats
- Checklist shows 4 categories with completion %
- Budget: all input fields work, calculations display, warning shows when over
- Data persists in SQLite
</verification>

<success_criteria>
- [ ] Dashboard: progress %, days until checkride, upcoming week, completed/remaining/overdue
- [ ] Checklist: Documents, Aircraft, Ground, Flight categories, toggleable items, %
- [ ] Budget: flight rates, hours, living costs, budget limit, calculations, warning
- [ ] All views accessible via keyboard navigation (1-5 keys)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/03-dashboard-checklist-budget-SUMMARY.md`
</output>
