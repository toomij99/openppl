---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - go.mod
  - go.sum
  - main.go
  - internal/model/model.go
  - internal/db/db.go
  - internal/styles/styles.go
  - internal/tui.go
autonomous: true
requirements: []
user_setup: []
must_haves:
  truths:
    - "Go module initializes with Bubble Tea, GORM, SQLite dependencies"
    - "Database models exist and migrate on startup"
    - "TUI shell launches and renders with navigation"
    - "User can navigate between 5 screens using keyboard"
  artifacts:
    - path: "go.mod"
      provides: "Go module with dependencies"
    - path: "internal/model/model.go"
      provides: "GORM database models"
    - path: "internal/tui.go"
      provides: "Bubble Tea program with navigation"
  key_links:
    - from: "main.go"
      to: "internal/db/db.go"
      via: "db.Initialize()"
    - from: "main.go"
      to: "internal/tui.go"
      via: "tea.NewProgram()"
---

<objective>
Initialize Go project with Bubble Tea, set up SQLite database, create core models, and establish TUI shell with navigation between screens.

Purpose: Foundation must be solid before building features. Sets up the MVU architecture pattern, database schema, and screen routing.
Output: Working TUI shell with database connection, ready for feature development.
</objective>

<execution_context>
@/Users/tommy/.config/opencode/get-shit-done/workflows/execute-plan.md
</execution_context>

<context>
@.planning/research/STACK.md
@.planning/research/ARCHITECTURE.md
</context>

<tasks>

<task type="auto">
  <name>Initialize Go module with dependencies</name>
  <files>go.mod, go.sum</files>
  <action>
    Create go.mod with module name "ppl-study-planner". Run go get for:
    - github.com/charmbracelet/bubbletea@v1.3.10
    - github.com/charmbracelet/bubbles
    - github.com/charmbracelet/lipgloss
    - gorm.io/gorm
    - gorm.io/driver/sqlite
    
    Initialize git repo if not exists.
  </action>
  <verify>
    <automated>go mod tidy && go build -o ppl-tui .</automated>
  </verify>
  <done>Go module initialized, dependencies installed, empty binary builds</done>
</task>

<task type="auto">
  <name>Create database models</name>
  <files>internal/model/model.go, internal/db/db.go</files>
  <action>
    Create GORM models in internal/model/model.go:
    - StudyPlan: id, checkride_date, created_at, updated_at
    - DailyTask: id, study_plan_id, date, category, title, description, completed, created_at
    - Progress: id, daily_task_id, completed_at
    - ChecklistItem: id, category (Documents/Aircraft/Ground/Flight), title, completed, created_at
    - Budget: id, item_type (flight_hours/plane_rate/cfi_rate/living), amount, created_at
    
    Create internal/db/db.go with Initialize() function that opens SQLite at data.db and runs AutoMigrate().
  </action>
  <verify>
    <automated>go build -o ppl-tui . && ./ppl-tui --help 2>&1 || true</automated>
  </verify>
  <done>Models created, database initializes on startup</done>
</task>

<task type="auto">
  <name>Create TUI shell with navigation</name>
  <files>main.go, internal/tui.go, internal/styles/styles.go</files>
  <action>
    Create main.go that initializes Bubble Tea program with db connection.
    Create internal/tui.go with:
    - MainModel struct containing db, currentScreen, models for each view
    - Init() returns initial command to load data
    - Update() handles msgs: navigation keys (1-5), window resize
    - View() renders current screen via Lipgloss
    - Screen constants: SCREEN_STUDY, SCREEN_PROGRESS, SCREEN_DASHBOARD, SCREEN_BUDGET, SCREEN_CHECKLIST
    
    Use lipgloss.NewStyle() for consistent theming (colors from Charm palette).
    Handle Ctrl+C quit gracefully.
  </action>
  <verify>
    <automated>go build -o ppl-tui . && echo "1" | timeout 2 ./ppl-tui || true</automated>
  </verify>
  <done>TUI renders, responds to navigation keys, shows placeholder for each screen</done>
</task>

</tasks>

<verification>
- go build succeeds
- Binary runs without panic
- Ctrl+C exits cleanly
- Navigation between 5 screens works
</verification>

<success_criteria>
- [ ] go.mod with Bubble Tea + GORM + SQLite
- [ ] Database models created and migrate on startup
- [ ] TUI shell renders with 5-screen navigation
- [ ] Keyboard navigation works (1-5 keys, Ctrl+C)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-foundation-SUMMARY.md`
</output>
